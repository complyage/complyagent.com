package main

import (
	"fmt"
	"os"

	"github.com/joho/godotenv"
	"github.com/ralphferrara/aria/app"
)

//||------------------------------------------------------------------------------------------------||
//|| Main
//||------------------------------------------------------------------------------------------------||

func main() {
	//||------------------------------------------------------------------------------------------------||
	//|| Initialize Errors
	//||------------------------------------------------------------------------------------------------||
	initErr()
	//||------------------------------------------------------------------------------------------------||
	//|| Load Env
	//||------------------------------------------------------------------------------------------------||
	err := godotenv.Load("../.env")
	if err != nil {
		fmt.Println("No .env file found, continuing...")
	}
	//||------------------------------------------------------------------------------------------------||
	//|| Check Agent Identifier
	//||------------------------------------------------------------------------------------------------||
	if os.Getenv("AGENT_IDENTIFIER") == "" {
		fmt.Println("AGENT_IDENTIFIER not set in environment")
		os.Exit(1)
	}
	//||------------------------------------------------------------------------------------------------||
	//|| Initialize App
	//||------------------------------------------------------------------------------------------------||
	app.Init("../config.json")
	//||------------------------------------------------------------------------------------------------||
	//|| Keep Running
	//||------------------------------------------------------------------------------------------------||
	select {}
}
